(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[25],{"99e0":function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-page",{attrs:{padding:""}},[i("div",{staticClass:"row q-col-gutter-sm q-ma-xs q-mr-sm"},[i("div",{staticClass:"col-lg-4 col-md-4 col-sm-12 col-xs-12"},[i("q-card",{attrs:{flat:"",bordered:""}},[i("q-card-section",[i("div",{staticClass:"text-h6"},[e._v("เพิ่ม/แก้ไข")])]),i("q-separator",{attrs:{inset:""}}),i("q-card-section",[i("q-list",[i("q-item",[i("q-item-section",[i("q-item-label",{staticClass:"q-pb-xs"},[e._v("คีย์")]),i("q-input",{attrs:{dense:"",outlined:"",readonly:"",label:"คีย์"},model:{value:e.currentcommissiontype.Commissiontypeid,callback:function(t){e.$set(e.currentcommissiontype,"Commissiontypeid",e._n(t))},expression:"currentcommissiontype.Commissiontypeid"}})],1)],1),i("q-item",[i("q-item-section",[i("q-item-label",{staticClass:"q-pb-xs"},[e._v("ชื่อ")]),i("q-input",{attrs:{dense:"",outlined:"",label:"ชื่อ"},model:{value:e.currentcommissiontype.Name,callback:function(t){e.$set(e.currentcommissiontype,"Name",t)},expression:"currentcommissiontype.Name"}})],1)],1)],1)],1),i("q-card-actions",{staticClass:"q-mr-md",attrs:{align:"right"}},[e.modeadd?i("q-btn",{staticClass:"q-pl-md q-pr-md",attrs:{outline:"",label:"เพิ่ม",color:"primary",disable:!e.currentcommissiontype.Name},on:{click:function(t){return e.Createcommissiontypes(e.currentcommissiontype)}}}):i("q-btn",{staticClass:"q-pl-md q-pr-md",attrs:{outline:"",label:"อัพเดท",color:"primary",disable:!e.currentcommissiontype.Name},on:{click:function(t){return e.Updatecommissiontypes(e.currentcommissiontype)}}})],1)],1)],1),i("div",{staticClass:"col-lg-8 col-md-8 col-sm-12 col-xs-12"},[i("q-card",{attrs:{flat:"",bordered:""}},[i("q-card-section",[i("div",{staticClass:"text-h6"},[e._v("ประเภทผู้รับค่าคอมฯ")])]),i("q-separator",{attrs:{inset:""}}),i("q-card-section",[i("q-table",{attrs:{data:e.allcommissiontypes,flat:"","hide-bottom":"",columns:e.columns,selection:"single",selected:e.selected,"row-key":"Commissiontypeid",pagination:e.pagination},on:{"update:selected":function(t){e.selected=t},"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"body-cell-Action",fn:function(t){return[i("q-td",{attrs:{props:t}},[i("div",[i("q-btn",{attrs:{dense:"",flat:"",outline:"",color:"red",icon:"delete"},on:{click:function(i){return e.Deletecommissiontypes(t.row)}}})],1)])]}},{key:"body-cell-Alloweditline",fn:function(t){return[i("q-td",{attrs:{props:t}},[i("div",{staticClass:"row justify-center"},[i("q-toggle",{attrs:{value:1===t.row.Alloweditline,"checked-icon":"done","unchecked-icon":"remove"},on:{input:function(i){1===t.row.Alloweditline?t.row.Alloweditline=0:t.row.Alloweditline=1,e.Updatecommissiontypes(t.row)}}})],1)])]}}])})],1)],1)],1)])])},s=[],n=(i("456d"),i("8a81"),i("d25f"),i("9986"),i("8e6e"),i("9523")),a=i.n(n),c=(i("20d6"),i("2f62"));function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function l(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){a()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var d={name:"Commissiontype",data:function(){return{modeadd:!0,mode:"list",pagination:{rowsPerPage:0},filter:"",allcommissiontypes:[],selected:[],currentcommissiontype:{Commissiontypeid:0,Name:"",Modefiedby:"",Modefieddatetime:new Date},columns:[{name:"Commissiontypeid",label:"คีย์",align:"left",field:"Commissiontypeid",sortable:!0},{name:"Name",label:"ชื่อ",align:"left",field:"Name",sortable:!0},{name:"Alloweditline",label:"แก้ไขได้",align:"left",field:"Alloweditline",sortable:!0},{name:"Action",field:"Action"}]}},created:function(){this.LoadData()},methods:l(l({},Object(c["b"])("retailarea",["getcommissiontypes","createcommissiontypes","updatecommissiontypes","deletecommissiontypes"])),{},{LoadData:function(){var e=this;this.$q.loading.show(),this.getcommissiontypes().then((function(t){var i=t.status,o=t.data;200===i&&(e.allcommissiontypes=o,e.$q.loading.hide(),e.timer=void 0)}))},Createcommissiontypes:function(e){var t=this;this.$q.loading.show(),this.createcommissiontypes(e).then((function(e){e.status;var i=e.data;t.allcommissiontypes.unshift(i),t.selected=[],t.$q.notify("อัพเดทเรียบร้อย"),t.$q.loading.hide(),t.timer=void 0})).catch((function(e){t.$q.loading.hide(),t.timer=void 0,console.log(e.response),t.$q.notify({icon:"done",color:"red",message:e.response.data.message})}))},Updatecommissiontypes:function(e){var t=this;this.$q.loading.show(),this.updatecommissiontypes(e).then((function(){t.$q.notify("อัพเดทเรียบร้อย"),t.$q.loading.hide(),t.timer=void 0})).catch((function(e){t.$q.loading.hide(),t.timer=void 0,console.log(e.response),t.$q.notify({icon:"done",color:"red",message:e.response.data.message})}))},Deletecommissiontypes:function(e){var t=this;this.$q.loading.show(),this.deletecommissiontypes(e).then((function(e){var i=e.data;t.allcommissiontypes.splice(t.allcommissiontypes.findIndex((function(e){return e.Commissiontypeid===i.Commissiontypeid})),1),t.selected=[],t.$q.notify("อัพเดทเรียบร้อย"),t.$q.loading.hide(),t.timer=void 0})).catch((function(e){t.$q.loading.hide(),t.timer=void 0,console.log(e.response),t.$q.notify({icon:"done",color:"red",message:e.response.data.message})}))}}),watch:{selected:function(e){e.length>0?(this.modeadd=!1,this.currentcommissiontype=e[0]):(this.modeadd=!0,this.currentcommissiontype={Commissiontypeid:0,Name:"",Modefiedby:"",Modefieddatetime:new Date})}}},m=d,p=i("2877"),u=i("9989"),f=i("f09f"),y=i("a370"),b=i("eb85"),q=i("1c1c"),g=i("66e5"),h=i("4074"),v=i("0170"),w=i("27f9"),C=i("4b7e"),$=i("9c40"),O=i("eaac"),j=i("db86"),Q=i("9564"),k=i("eebe"),x=i.n(k),A=Object(p["a"])(m,o,s,!1,null,null,null);t["default"]=A.exports;x()(A,"components",{QPage:u["a"],QCard:f["a"],QCardSection:y["a"],QSeparator:b["a"],QList:q["a"],QItem:g["a"],QItemSection:h["a"],QItemLabel:v["a"],QInput:w["a"],QCardActions:C["a"],QBtn:$["a"],QTable:O["a"],QTd:j["a"],QToggle:Q["a"]})}}]);