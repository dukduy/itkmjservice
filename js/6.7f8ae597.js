(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"803c":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("q-card",[n("q-card-section",{staticClass:"q-pa-none q-ma-none"},[n("q-item-label",{attrs:{header:""}},[t._v(t._s(t.modeadd?"เพิ่ม":"แก้ไข"))])],1),n("q-card-section",{staticClass:"row q-pa-none q-ma-none"},[n("q-item",{staticClass:"col-6"},[n("q-item-section",[n("q-item-label",[t._v("เลขที่")]),n("q-item-label",{attrs:{caption:"",lines:"2"}},[n("q-input",{attrs:{dense:"",outlined:"",readonly:""},model:{value:t.currentgroupshoptable.Groupshopid,callback:function(e){t.$set(t.currentgroupshoptable,"Groupshopid",e)},expression:"currentgroupshoptable.Groupshopid"}})],1)],1)],1),n("q-item",{staticClass:"col-6"},[n("q-item-section",[n("q-item-label",[t._v("จำนวนลูกค้า")]),n("q-item-label",{attrs:{caption:"",lines:"2"}},[n("q-input",{attrs:{dense:"",outlined:"",mask:"###"},model:{value:t.currentgroupshoptable.Tourcount,callback:function(e){t.$set(t.currentgroupshoptable,"Tourcount",t._n(e))},expression:"currentgroupshoptable.Tourcount"}})],1)],1)],1),n("q-item",{staticClass:"col-6"},[n("q-item-section",[n("q-item-label",[t._v("ประเภททัวร์")]),n("q-item-label",{attrs:{caption:"",lines:"2"}},[n("q-select",{attrs:{dense:"",outlined:"",options:t.optiontourtype,"option-label":"Name","option-value":"Tourtypeid","emit-value":"","map-options":"",behavior:"menu"},model:{value:t.currentgroupshoptable.Tourtypeid,callback:function(e){t.$set(t.currentgroupshoptable,"Tourtypeid",e)},expression:"currentgroupshoptable.Tourtypeid"}})],1)],1)],1),n("q-item",{staticClass:"col-6"},[n("q-item-section",[n("q-item-label",[t._v("สตื๊กเกอร์")]),n("q-item-label",{attrs:{caption:"",lines:"2"}},[n("q-select",{ref:"select",attrs:{dense:"",outlined:"","use-input":"",options:t.optioncustinvoicemarkfilter,"option-label":"Custinvoicemarkname","emit-value":"",multiple:"","use-chips":"","stack-label":"",behavior:"menu"},on:{input:function(e){return t.$refs.select.hidePopup()},filter:t.Filtersticker},scopedSlots:t._u([{key:"selected-item",fn:function(e){return[n("q-chip",{staticClass:"q-ma-none",attrs:{removable:"",dense:"",tabindex:e.tabindex,color:"dark","text-color":"white"},on:{remove:function(t){return e.removeAtIndex(e.index)}}},[t._v("\n                  "+t._s(e.opt.Custinvoicemarkname)+"\n                ")])]}}]),model:{value:t.currentgroupshoptable.Groupshopcustinvoicemarkline,callback:function(e){t.$set(t.currentgroupshoptable,"Groupshopcustinvoicemarkline",e)},expression:"currentgroupshoptable.Groupshopcustinvoicemarkline"}})],1)],1)],1),n("q-item",{staticClass:"col-6"},[n("q-item-section",[n("q-item-label",[t._v("ประเภทเข้าจอด")]),n("q-item-label",{attrs:{caption:"",lines:"2"}},[n("q-select",{attrs:{dense:"",outlined:"",options:t.optionagentgrouptype,"option-label":"Name","option-value":"Agentgrouptypeid","emit-value":"","map-options":"",behavior:"menu"},model:{value:t.currentgroupshoptable.Agentgrouptypeid,callback:function(e){t.$set(t.currentgroupshoptable,"Agentgrouptypeid",e)},expression:"currentgroupshoptable.Agentgrouptypeid"}})],1)],1)],1),n("q-item",{staticClass:"col-6"},[n("q-item-section",[n("q-item-label",[t._v("หมายเหตุ")]),n("q-item-label",{attrs:{caption:"",lines:"2"}},[n("q-input",{attrs:{dense:"",outlined:""},model:{value:t.currentgroupshoptable.Remark,callback:function(e){t.$set(t.currentgroupshoptable,"Remark",e)},expression:"currentgroupshoptable.Remark"}})],1)],1)],1)],1),n("q-card-section",{staticClass:"q-pa-none q-ma-none"},[n("q-expansion-item",{scopedSlots:t._u([{key:"header",fn:function(){return[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{color:"purple",name:"settings"}})],1),n("q-item-section",[t._v("\n            การจัดการ\n          ")])]},proxy:!0}])},[n("q-card",{staticClass:"q-pa-none q-ma-none"},[n("q-card-section",[n("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}]},[n("q-item-section",[n("q-item-label",[t._v("ยืนยันข้อมูล")]),n("q-item-label",{attrs:{caption:""}},[t._v("\n                  "+t._s(t.alluser.find((function(e){return e.Id===t.currentgroupshoptable.Confirminfoby}))?t.alluser.find((function(e){return e.Id===t.currentgroupshoptable.Confirminfoby})).UserName:"")+"\n                ")]),n("q-item-label",{attrs:{caption:""}},[t._v("\n                  "+t._s(t.date.formatDate(new Date(t.currentgroupshoptable.Confirminfodatetime),"YY/MM/DD HH:mm"))+"\n                ")])],1)],1),n("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}]},[n("q-item-section",[n("q-item-label",[t._v("สร้าง")]),n("q-item-label",{attrs:{caption:""}},[t._v("\n                  "+t._s(t.alluser.find((function(e){return e.Id===t.currentgroupshoptable.Createdby}))?t.alluser.find((function(e){return e.Id===t.currentgroupshoptable.Createdby})).UserName:"")+"\n                ")]),n("q-item-label",{attrs:{caption:""}},[t._v("\n                  "+t._s(t.date.formatDate(new Date(t.currentgroupshoptable.Createddatetime),"YY/MM/DD HH:mm"))+"\n                ")])],1),n("q-item-section",[n("q-item-label",[t._v("แก้ไข")]),n("q-item-label",{attrs:{caption:""}},[t._v("\n                  "+t._s(t.alluser.find((function(e){return e.Id===t.currentgroupshoptable.Modifiedby}))?t.alluser.find((function(e){return e.Id===t.currentgroupshoptable.Modifiedby})).UserName:"")+"\n                ")]),n("q-item-label",{attrs:{caption:""}},[t._v("\n                  "+t._s(t.date.formatDate(new Date(t.currentgroupshoptable.Modifieddatetime),"YY/MM/DD HH:mm"))+"\n                ")])],1)],1)],1)],1)],1)],1),n("q-card-actions",{staticClass:"q-mr-md",attrs:{align:"right"}},[n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-pl-md q-pr-md",attrs:{flat:"",label:"ปิด",color:"primary"}}),t.modeadd?n("q-btn",{staticClass:"q-pl-md q-pr-md",attrs:{outline:"",label:"เพิ่ม",color:"primary",disable:!t.currentgroupshoptable.Groupshopcustinvoicemarkline.length},on:{click:function(e){return t.Creategroupshoptables(t.currentgroupshoptable)}}}):n("q-btn",{staticClass:"q-pl-md q-pr-md",attrs:{outline:"",label:"อัพเดท",color:"primary",disable:!t.currentgroupshoptable.Groupshopid||!t.currentgroupshoptable.Groupshopcustinvoicemarkline.length},on:{click:function(e){return t.Updategroupshoptables(t.currentgroupshoptable)}}})],1)],1)],1)},a=[],i=(n("456d"),n("8a81"),n("9986"),n("8e6e"),n("9523")),r=n.n(i),s=(n("6d67"),n("f751"),n("d25f"),n("2f62")),l=n("bd4c");function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){r()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var u=function(){return{Groupshopid:"",Groupshopdate:new Date,Tourcount:0,Tourtypeid:1,Groupshopcustinvoicemarkline:[],Agentgrouptypeid:1,Status:1,Remark:"",Confirminfoby:"",Confimeinfodatetime:"1900-01-01",Createdby:"",Createddatetime:new Date,Modifiedby:"",Modifieddatetime:new Date}},d={name:"Groupshop",props:["modeadd","groupshoprow","optiontourtype","optioncustinvoicemark","optionagentgrouptype","alluser"],created:function(){this.optioncustinvoicemarkfilter=this.optioncustinvoicemark.map((function(t){return t.Custinvoicemarkname=t.Name,t.Createdby=t.Modifiedby,t.Createddatetime=t.Modifieddatetime,t})),this.modeadd?this.currentgroupshoptable=u():this.currentgroupshoptable=Object.assign({},this.groupshoprow)},data:function(){return{date:l["b"],currentgroupshoptable:u(),optioncustinvoicemarkfilter:[]}},methods:c(c({},Object(s["b"])("retailarea",["creategroupshoptables","updategroupshoptables"])),{},{Filtersticker:function(t,e){var n=this;e(""!==t?function(){var e=t.toLowerCase();n.optioncustinvoicemarkfilter=n.optioncustinvoicemark.filter((function(t){return t.Custinvoicemarkname.toLowerCase().indexOf(e)>-1}))}:function(){n.optioncustinvoicemarkfilter=n.optioncustinvoicemark})},Creategroupshoptables:function(t){var e=this;this.$q.loading.show(),this.creategroupshoptables(t).then((function(t){t.status;var n=t.data;e.$emit("added",n),e.$q.notify("อัพเดทเรียบร้อย"),e.$q.loading.hide(),e.timer=void 0})).catch((function(t){e.$q.loading.hide(),e.timer=void 0,console.log(t.response),e.$q.notify({icon:"done",color:"red",message:t.response.data.message})}))},Updategroupshoptables:function(t){var e=this;this.$q.loading.show(),this.updategroupshoptables(t).then((function(t){var n=t.data;e.$emit("updated",n),e.$q.notify("อัพเดทเรียบร้อย"),e.$q.loading.hide(),e.timer=void 0})).catch((function(t){e.$q.loading.hide(),e.timer=void 0,console.log(t.response),e.$q.notify({icon:"done",color:"red",message:t.response.data.message})}))}})},g=d,m=n("2877"),h=n("f09f"),f=n("a370"),b=n("0170"),v=n("66e5"),q=n("4074"),y=n("27f9"),w=n("ddd8"),_=n("b047"),k=n("3b73"),C=n("0016"),x=n("4b7e"),$=n("9c40"),A=n("714f"),O=n("7f67"),S=n("eebe"),P=n.n(S),D=Object(m["a"])(g,o,a,!1,null,null,null);e["default"]=D.exports;P()(D,"components",{QCard:h["a"],QCardSection:f["a"],QItemLabel:b["a"],QItem:v["a"],QItemSection:q["a"],QInput:y["a"],QSelect:w["a"],QChip:_["a"],QExpansionItem:k["a"],QIcon:C["a"],QCardActions:x["a"],QBtn:$["a"]}),P()(D,"directives",{Ripple:A["a"],ClosePopup:O["a"]})},8810:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bg-red"},[n("q-card",[n("q-card-section",{attrs:{align:"center"}},[n("div",{staticStyle:{"font-size":"15px"},attrs:{id:"printDelivery"}},[n("table",{staticStyle:{width:"400px"},attrs:{border:"0"}},[n("tbody",{staticStyle:{"text-align":"left"}},[n("tr",[n("td",[n("li",[t._v("เลขที่")])]),n("td",[t._v(t._s(t.itemtoprint.Groupshopid))])]),n("tr",[n("td",[n("li",[t._v("วันที่")])]),n("td",[t._v(t._s(t.date.formatDate(new Date(t.itemtoprint.Groupshopdate),"DD/MM/YYYY")))])]),n("tr",[n("td",[n("li",[t._v("จำนวนลูกค้า")])]),n("td",[t._v(t._s(t.itemtoprint.Tourcount))])]),n("tr",[n("td",[n("li",[t._v("สตื๊กเกอร์")])]),n("td",[t._v(t._s(t.itemtoprint.Groupshopcustinvoicemarkline.map((function(t){return t.Custinvoicemarkname})).toString()))])]),n("tr",[n("td",[n("li",[t._v("ประเภทรถเข้าจอด")])]),n("td",[t._v(t._s(t.optionagentgrouptype.find((function(e){return e.Agentgrouptypeid===t.itemtoprint.Agentgrouptypeid}))?t.optionagentgrouptype.find((function(e){return e.Agentgrouptypeid===t.itemtoprint.Agentgrouptypeid})).Name:""))])]),n("tr",[n("td",[n("li",[t._v("ผู้ถือบัตร")])]),n("td",[t._v(t._s(t.itemtoprint.Agent.Agentid)+" : "+t._s(t.itemtoprint.Agent.Agent.Name))])]),n("tr",[n("td",[n("li",[t._v("ประเภทรถ")])]),n("td",[t._v(t._s(t.groupshopagentvehicleline.map((function(t){return t.Cartype.Name})).toString()))])]),n("tr",[n("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"2"}},[n("img",{staticClass:"center",attrs:{src:t.imagebarcode,width:"370"}})])]),t.selection.length>0?n("tr",{staticStyle:{color:"white","font-size":"60px","background-color":"black","text-align":"center"}},[n("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"2"}},[t._v("\n                "+t._s(t.selection.toString().replace(",",""))+"\n              ")])]):t._e(),n("tr",[n("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"2"}},[n("p",[t._v("-------------------------------------------------------------")]),n("p",[t._v("หมายเหตุ: เวลาทําการแผนกการเงิน")]),n("p",[t._v("8.30 - 17.00 น. หยุดทุกวันจันทร์")]),n("p",[t._v("กรณาแสดงบัตรประจำตัวประชาชน")]),n("p",[t._v("***พิมพ์ ["+t._s(t.date.formatDate(new Date,"DD/MM/YYYY HH:mm"))+"] "+t._s(t.profile.UserName)+"***")])])])])])])]),n("q-card-actions",{attrs:{align:"right"}},[n("div",{staticClass:"q-gutter-sm"},[n("q-checkbox",{attrs:{val:"P",label:"P",color:"orange"},model:{value:t.selection,callback:function(e){t.selection=e},expression:"selection"}}),n("q-checkbox",{attrs:{val:"C",label:"C",color:"red"},model:{value:t.selection,callback:function(e){t.selection=e},expression:"selection"}})],1),n("q-btn",{staticClass:"q-pa-xs q-ml-xl",attrs:{label:"พิมพ์",color:"primary",icon:"print"},on:{click:function(e){return t.$htmlToPaper("printDelivery")}}})],1)],1)],1)},a=[],i=(n("456d"),n("8a81"),n("d25f"),n("9986"),n("8e6e"),n("9523")),r=n.n(i),s=(n("06db"),n("551c"),n("2582")),l=n.n(s),p=n("bd4c"),c=n("2f62");function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){r()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var g={name:"Printagent",components:{},props:["itemtoprint","optioncustinvoicemark","optiontourtype","optionagentgrouptype","optioncartype"],computed:d({},Object(c["c"])("auth",["profile"])),created:function(){var t=this;this.getgroupshopagentvehiclelines({Groupshopid:this.itemtoprint.Groupshopid,Agentid:this.itemtoprint.Agent.Agentid}).then((function(e){var n=e.data;return t.groupshopagentvehicleline=n,t.generateBarcode("".concat(t.itemtoprint.Groupshopid,",").concat(t.itemtoprint.Agent.Agentid))})).then((function(e){t.imagebarcode=e}))},data:function(){return{date:p["b"],selection:[],imagebarcode:null,groupshopagentvehicleline:[]}},methods:d(d({},Object(c["b"])("retailarea",["getgroupshopagentvehiclelines"])),{},{generateBarcode:function(t){return new Promise((function(e,n){try{var o=l.a.toCanvas(document.createElement("canvas"),{bcid:"code128",text:t,scale:3,height:20,includetext:!0,textxalign:"center"});e(o.toDataURL("image/png"))}catch(a){n(a)}}))}})},m=g,h=n("2877"),f=n("f09f"),b=n("a370"),v=n("4b7e"),q=n("8f8e"),y=n("9c40"),w=n("eebe"),_=n.n(w),k=Object(h["a"])(m,o,a,!1,null,"6054cb08",null);e["default"]=k.exports;_()(k,"components",{QCard:f["a"],QCardSection:b["a"],QCardActions:v["a"],QCheckbox:q["a"],QBtn:y["a"]})},b3a1:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",[n("div",{staticClass:"row q-col-gutter-sm q-ma-xs q-mr-sm"},[n("div",{staticClass:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},[n("q-card",{attrs:{flat:"",bordered:""}},[n("q-card-section",[n("q-table",{attrs:{title:"รายการเข้าจอด",data:t.allgroupshoptables,flat:"","hide-header":"grid"===t.mode,columns:t.columnsgroupshoptable,"row-key":"Groupshopid",grid:"grid"==t.mode,pagination:t.pagination,loading:t.loadinggroupshoptables},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"top-right",fn:function(e){return[n("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"refresh"},on:{click:function(e){t.filter="",t.Search()}}},[n("q-tooltip",{directives:[{name:"close-popup",rawName:"v-close-popup"}]},[t._v("รีโหลด")])],1),n("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"add"},on:{click:function(e){t.currentgroupshoptable=null,t.modeadd=!0,t.dialogaddedit=!0}}},[n("q-tooltip",{directives:[{name:"close-popup",rawName:"v-close-popup"}]},[t._v("เพิ่ม")])],1),n("q-input",{attrs:{outlined:"",dense:""},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.Search()}},scopedSlots:t._u([{key:"apped",fn:function(){return[n("q-icon",{attrs:{name:"search"}})]},proxy:!0}],null,!0),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}},[n("q-tooltip",[t._v("เลขที่เอกสาร/เลขที่ไกด์/เบอร์/ชื่อ Enter")])],1),e.inFullscreen?t._e():n("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"grid"===t.mode?"list":"grid_on"},on:{click:function(e){t.mode="grid"===t.mode?"list":"grid",t.separator="grid"===t.mode?"none":"horizontal"}}},[n("q-tooltip",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{disable:t.$q.platform.is.mobile}},[t._v(t._s("grid"===t.mode?"List":"Grid"))])],1)]}},{key:"body",fn:function(e){return[n("q-tr",{attrs:{props:e}},[n("q-td",{attrs:{"auto-width":""}},[n("q-btn",{attrs:{dense:"",flat:"",color:"green",icon:"menu"}},[n("q-menu",{attrs:{"transition-show":"jump-down","transition-hide":"jump-up"}},[n("q-list",{staticStyle:{"min-width":"100px"}},[n("q-item",{directives:[{name:"show",rawName:"v-show",value:t.canaccress(["MNPAYMENTTABLE"]),expression:"canaccress(['MNPAYMENTTABLE'])"}],attrs:{clickable:"",disable:1!==e.row.Status},on:{click:function(n){return t.Confirminfogroupshoptables(e.row)}}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{color:"primary",name:"note_add"}})],1),n("q-item-section",[t._v("ยืนยัน(ดึงยอดขาย)")])],1),n("q-item",{attrs:{clickable:"",disable:1!==e.row.Status},on:{click:function(n){return t.Deletegroupshoptables(e.row)}}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{color:"red",name:"delete"}})],1),n("q-item-section",[t._v("ลบ")])],1)],1)],1)],1)],1),n("q-td",{attrs:{"auto-width":""}},[n("q-btn",{attrs:{size:"md",dense:"",flat:"",outline:"",color:"blue-grey-6",icon:"edit"},on:{click:function(n){t.currentgroupshoptable=e.row,t.modeadd=!1,t.dialogaddedit=!0}}}),n("q-btn",{staticClass:"q-ml-xs",attrs:{size:"sm",color:"blue-grey-6",round:"",outline:"",dense:"",icon:e.expand?"remove":"add"},on:{click:function(t){e.expand=!e.expand}}},[n("q-tooltip",[t._v("เพิ่มผู้รับค่าคอมฯ")])],1)],1),n("q-td",{attrs:{"auto-width":"",align:"center"}},[n("q-badge",{attrs:{color:t.COLOR[e.row.Status]}},[t._v("\n                    "+t._s(t.STATUS[e.row.Status])+"\n                  ")])],1),n("q-td",{class:e.row.Groupshopagentline.length>0?"bg-grey-2 ellipsis":"bg-red-2 ellipsis",attrs:{"auto-width":""}},[t._v("\n                  "+t._s(e.row.Groupshopid)+"\n                ")]),n("q-td",{attrs:{"auto-width":""}},[t._v("\n                  "+t._s(t.date.formatDate(new Date(e.row.Groupshopdate),"DD-MM-YY"))+"\n                ")]),n("q-td",{attrs:{"auto-width":"",align:"center"}},[n("q-badge",{attrs:{color:"indigo-8"}},[t._v(t._s(e.row.Tourcount))])],1),n("q-td",{attrs:{"auto-width":"",align:"right"}},[t._v("\n                  "+t._s(e.row.Groupshopcustinvoicemarkline.map((function(t){return t.Custinvoicemarkname})).toString())+"\n                  "),n("q-btn",{attrs:{size:"md",outline:"",dense:"",icon:"monetization_on"},on:{click:function(n){return t.CurrentAmount(e.row)}}},[n("q-tooltip",[t._v("ยอดขาย")])],1)],1),n("q-td",{attrs:{"auto-width":""}},[n("div",{class:1===e.row.Tourtypeid?"text-indigo":"text-pink"},[t._v("\n                    "+t._s(t.optiontourtype.find((function(t){return t.Tourtypeid===e.row.Tourtypeid}))?t.optiontourtype.find((function(t){return t.Tourtypeid===e.row.Tourtypeid})).Name:"")+"\n                  ")])]),n("q-td",{attrs:{"auto-width":"",align:"right"}},[t._v("\n                  "+t._s(t.optionagentgrouptype.find((function(t){return t.Agentgrouptypeid===e.row.Agentgrouptypeid}))?t.optionagentgrouptype.find((function(t){return t.Agentgrouptypeid===e.row.Agentgrouptypeid})).Name:"")+"\n                ")]),n("q-td",{attrs:{"auto-width":"",align:"right"}},[t._v("\n                  "+t._s(e.row.Remark)+"\n                ")])],1),n("q-tr",{directives:[{name:"show",rawName:"v-show",value:e.expand,expression:"props.expand"}],attrs:{props:e}},[n("q-td",{attrs:{colspan:"100%"}},[n("q-list",{staticClass:"row"},[t._l(e.row.Groupshopagentline,(function(o){return n("div",{key:o.Agentid,staticClass:"col-9 offset-1"},[n("q-item",{key:o.Agentid,staticClass:"q-ma-none q-pa-none",attrs:{clickable:""}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"person_pin",color:2===o.Agent.Status?"blue-grey-6":"red-3"}})],1),n("q-item-section",[n("q-item-label",[t._v(t._s(o.Agent.Name))]),n("q-item-label",{attrs:{caption:"",lines:"1"}},[t._v(t._s(o.Agent.Agenttype.Name))])],1),n("q-item-section",[n("q-item-label",{attrs:{caption:"",lines:"1"}},[t._v("\n                            "+t._s(o.Agentid)+"\n                          ")])],1),n("q-item-section",[n("q-item-label",{attrs:{caption:"",lines:"1"}},[t._v("\n                            "+t._s(o.Agent.Identitynumber)+"\n                          ")])],1),n("q-item-section",{staticClass:"q-pa-none q-ma-none",attrs:{side:""}},[n("div",{staticClass:"row q-gutter-xs"},[1===e.row.Status?n("q-btn",{staticClass:"col",attrs:{size:"md",outline:"",dense:"",icon:"add",color:"blue-grey-6"},on:{click:function(e){return t.Creategroupshopagentvehiclelines(o)}}},[n("q-tooltip",[t._v("เพิ่มรถ")])],1):t._e(),n("q-btn",{staticClass:"col",attrs:{size:"md",outline:"",dense:"",icon:"print",color:"blue-grey-6"},on:{click:function(n){return t.labelPrint(e.row,o)}}}),o.Commissionstatus<3?n("q-btn",{directives:[{name:"show",rawName:"v-show",value:t.canaccress(["MNPAYMENTTABLE"]),expression:"canaccress(['MNPAYMENTTABLE'])"}],staticClass:"col",attrs:{size:"md",outline:"",dense:"",icon:"monetization_on",color:"blue-grey-6"},on:{click:function(n){return t.Createpayment(e.row,o)}}},[n("q-tooltip",[t._v("ยืนยันข้อมูลจ่ายค่าคอมฯทันที")])],1):t._e(),1===e.row.Status?n("q-btn",{staticClass:"col",attrs:{size:"md",outline:"",dense:"",icon:"delete",color:"blue-grey-6"},on:{click:function(n){return t.Deletegroupshopagentlines(e.row,o)}}}):n("q-btn",{staticClass:"col",attrs:{size:"md",outline:"",dense:"",icon:"list",color:"primary"},on:{click:function(e){return t.Getagentlinecms(o)}}},[n("q-popup-proxy",{attrs:{"transition-show":"flip-up","transition-hide":"flip-down"}},[n("div",{staticClass:"q-ma-xs q-pa-xs",staticStyle:{"min-width":"300px"}},t._l(t.agentlinecms,(function(e,o){return n("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:o,attrs:{clickable:""}},[n("q-item-section",{attrs:{avatar:""}},[n("q-avatar",{attrs:{size:"sm",color:"primary","text-color":"white"}},[t._v("\n                                          "+t._s(o+1)+"\n                                        ")])],1),n("q-item-section",[n("q-item-label",[t._v(t._s(e.Refitemname))]),n("q-item-label",{attrs:{caption:"",lines:"1"}},[t._v(t._s(e.Refratename)+" : "+t._s(e.Reteqty)+" x "+t._s(e.Reteamount))])],1),n("q-item-section",{attrs:{side:""}},[n("q-badge",{attrs:{color:"green","text-color":"white",floating:""}},[t._v(t._s(e.Lineamount)+"฿")])],1)],1)})),1)])],1)],1)]),n("q-item-section",{staticStyle:{"text-align":"right"}},[n("q-item-label",[t._v(t._s(t.STATUSCMS[o.Commissionstatus]))])],1)],1),n("div",{staticClass:"row"},t._l(o.Groupshopagentvehicleline,(function(a,i){return n("q-item",{key:a.Linenum,staticClass:"col-8 offset-1 q-ma-none q-pa-none q-ml-md q-mr-xl q-pr-xl"},[n("q-item-section",{attrs:{avatar:""}},[t._v("\n                            "+t._s(i+1)+".\n                          ")]),n("q-item-section",[n("q-item-label",{attrs:{caption:"",lines:"1"}},[n("q-select",{attrs:{dense:"",standout:"",options:t.optioncartype,"option-label":"Name","option-value":"Cartypeid","emit-value":"","map-options":"",label:"ประเภทรถ",behavior:"menu",disable:1!==e.row.Status},on:{input:function(e){return t.Updategroupshopagentvehiclelines(a)}},model:{value:a.Cartypeid,callback:function(e){t.$set(a,"Cartypeid",e)},expression:"rowv.Cartypeid"}})],1)],1),n("q-item-section",[n("q-item-label",{attrs:{caption:"",lines:"1"}},[n("q-input",{attrs:{dense:"",standout:"",label:"ทะเบียนรถ",readonly:1!==e.row.Status},on:{blur:function(e){return t.Updategroupshopagentvehiclelines(a)}},model:{value:a.Vehicleid,callback:function(e){t.$set(a,"Vehicleid",e)},expression:"rowv.Vehicleid"}})],1)],1),n("q-item-section",[n("q-item-label",{attrs:{caption:"",lines:"1"}},[n("q-input",{attrs:{dense:"",standout:"",label:"จำนวน",mask:"##",readonly:1!==e.row.Status},on:{blur:function(e){return t.Updategroupshopagentvehiclelines(a)}},model:{value:a.Vehicleqty,callback:function(e){t.$set(a,"Vehicleqty",e)},expression:"rowv.Vehicleqty"}})],1)],1),n("q-item-section",{attrs:{side:""}},[1===e.row.Status?n("q-btn",{staticClass:"col q-ma-xs",attrs:{size:"md",outline:"",dense:"",icon:"delete",color:"blue-grey-4"},on:{click:function(e){return t.Deletegroupshopagentvehiclelines(o,a)}}}):t._e()],1)],1)})),1)],1)})),1===e.row.Status?n("q-item",{staticClass:"col-6 offset-1 q-ml-md"},[n("q-item-section",[n("q-select",{attrs:{dense:"",outlined:"",label:"รหัส/ชื่อ ค้นหา",options:t.optionagents,"option-label":"Name","option-value":"Agentid","map-options":"","use-input":"","hide-selected":"","fill-input":"",disable:1!==e.row.Status},on:{"update:options":function(e){t.optionagents=e},input:function(n){return t.Creategroupshopagentlines(e.row,t.curentagentselect)},filter:t.Filteragent,"filter-abort":function(){}},scopedSlots:t._u([{key:"option",fn:function(e){return[n("q-item",t._g(t._b({},"q-item",e.itemProps,!1),e.itemEvents),[n("q-item-section",{attrs:{avatar:""}},[t._v("\n                                "+t._s(e.opt.Agentid)+"\n                              ")]),n("q-item-section",[n("q-item-label",[t._v(t._s(e.opt.Name))]),n("q-item-label",{attrs:{caption:""}},[t._v(t._s(e.opt.Identitynumber))])],1),n("q-item-section",{attrs:{side:""}},[n("q-item-label",{attrs:{caption:""}},[t._v(t._s(e.opt.Agenttype.Name))])],1)],1)]}},{key:"append",fn:function(){return[n("q-btn",{attrs:{flat:"",round:"","text-color":"purple",icon:"credit_card"},on:{click:function(n){return t.ReadSmartCardReader(e.row)}}})]},proxy:!0}],null,!0),model:{value:t.curentagentselect,callback:function(e){t.curentagentselect=e},expression:"curentagentselect"}}),n("q-tooltip",{staticClass:"q-pb-xs"},[t._v("เพิ่มคนขับ/ไกด์")])],1),n("q-item-section",{attrs:{side:""}},[n("q-btn",{attrs:{size:"md",color:"blue-grey-4",icon:"add",disable:1!==e.row.Status},on:{click:function(n){t.currentgroupshoptable=e.row,t.showdialogaddagent=!0}}},[n("q-tooltip",[t._v("เพิ่มผู้จอดคนใหม่")])],1)],1)],1):t._e()],2)],1)],1)]}},{key:"pagination",fn:function(){return[n("div",[n("q-pagination",{attrs:{size:"sm",color:"black",max:t.pagination.MaxPage,"max-pages":4,"boundary-numbers":!1},model:{value:t.pagination.Page,callback:function(e){t.$set(t.pagination,"Page",e)},expression:"pagination.Page"}})],1)]},proxy:!0}])})],1)],1)],1),n("q-dialog",{attrs:{persistent:""},model:{value:t.dialogaddedit,callback:function(e){t.dialogaddedit=e},expression:"dialogaddedit"}},[n("div",{staticStyle:{"max-width":"100%",width:"80%"}},[n("groupshopaddedit",{attrs:{modeadd:t.modeadd,groupshoprow:t.currentgroupshoptable,optiontourtype:t.optiontourtype,optioncustinvoicemark:t.optioncustinvoicemark,optionagentgrouptype:t.optionagentgrouptype,alluser:t.alluser},on:{added:t.Addedgroupshop,updated:t.Updatedgroupshop}})],1)]),n("q-dialog",{model:{value:t.showdialogprintagent,callback:function(e){t.showdialogprintagent=e},expression:"showdialogprintagent"}},[n("div",{staticStyle:{"max-width":"100%",width:"80%"}},[n("printagent",{attrs:{itemtoprint:t.itemtoprint,optioncustinvoicemark:t.optioncustinvoicemark,optiontourtype:t.optiontourtype,optionagentgrouptype:t.optionagentgrouptype,optioncartype:t.optioncartype}})],1)]),n("q-dialog",{attrs:{persistent:""},model:{value:t.showdialogaddpayment,callback:function(e){t.showdialogaddpayment=e},expression:"showdialogaddpayment"}},[n("div",{staticStyle:{"max-width":"100%",width:"80%"}},[n("addpayment",{attrs:{defaultagentid:t.currentagentline.Agentid},on:{added:t.PaymentAdded}})],1)]),n("q-dialog",{attrs:{persistent:""},model:{value:t.showdialogaddagent,callback:function(e){t.showdialogaddagent=e},expression:"showdialogaddagent"}},[n("div",{staticStyle:{"max-width":"100%",width:"80%"}},[n("addagent",{attrs:{agenttable:null,modeadd:!0,alluser:[]},on:{added:t.AgentAdded}})],1)]),n("q-dialog",{model:{value:t.showdialogprintpayment,callback:function(e){t.showdialogprintpayment=e},expression:"showdialogprintpayment"}},[n("div",{staticStyle:{"max-width":"100%",width:"80%"}},[n("printpayment",{attrs:{itemtoprint:t.itemtoprintpayment}})],1)])],1)])},a=[],i=(n("456d"),n("8a81"),n("9986"),n("8e6e"),n("448a")),r=n.n(i),s=n("c973"),l=n.n(s),p=n("9523"),c=n.n(p),u=(n("d25f"),n("6d67"),n("20d6"),n("f751"),n("a34a")),d=n.n(u),g=n("bd4c"),m=n("2f62");function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){c()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var b={0:"ยกเลิก",1:"เปิดค้างไว้",2:"ยืนยันรายการ",3:"จ่ายค่าคอมฯบางส่วน",4:"จ่ายค่าคอมฯแล้ว",5:"ไม่ต้องจ่ายรายการนี้"},v={0:"ยกเลิก",1:"ยังไม่จ่าย",2:"จ่ายบางรายการ",3:"จ่ายครบแล้ว",4:"นอกเงื่อนไข"},q={0:"negative",1:"warning",2:"green",3:"info",4:"primary",5:"dark"},y={name:"Groupshoptable",components:{addpayment:n("c068").default,addagent:n("86f5").default,printagent:n("8810").default,groupshopaddedit:n("803c").default,printpayment:n("4a21").default},computed:f({},Object(m["c"])("auth",["canaccress"])),data:function(){return{date:g["b"],STATUS:b,STATUSCMS:v,COLOR:q,dialogaddedit:!1,modeadd:!0,mode:"list",pagination:{Page:1,MaxPage:1,page:1,rowsPerPage:10},filter:"",loadinggroupshoptables:!1,allgroupshoptables:[],currentgroupshoptable:null,columnsgroupshoptable:[{name:"Menu",label:"",align:"center",field:"Menu"},{name:"Action",label:"",align:"center",field:"Action"},{name:"Status",label:"สถานะ",align:"center",field:"Status"},{name:"Groupshopid",label:"เลขที่",align:"left",field:"Groupshopid",sortable:!0,headerClasses:"bg-primary text-white",classes:"bg-grey-2 ellipsis"},{name:"Groupshopdate",label:"วันที่",align:"left",field:"Groupshopdate",format:function(t){return g["b"].formatDate(new Date(t),"DD-MM-YY")},sortable:!0},{name:"Tourcount",label:"จำนวนลูกค้า",align:"center",field:"Tourcount",sortable:!0},{name:"Custinvoicemarkid",label:"สตื๊กเกอร์",align:"left",field:"Custinvoicemarkid",sortable:!0},{name:"Tourtypeid",label:"ประเภททัวร์",align:"center",field:"Tourtypeid",sortable:!0,headerClasses:"bg-primary text-white"},{name:"Agentgrouptypeid",label:"ประเภทเข้าจอด",align:"right",field:"Agentgrouptypeid",sortable:!0,headerClasses:"bg-primary text-white"},{name:"Remark",label:"หมายเหตุ",align:"right",field:"Remark",sortable:!0,headerClasses:"bg-primary text-white"}],optiontourtype:[],optioncustinvoicemark:[],optionagentgrouptype:[],optioncartype:[],alluser:[],curentagentselect:"",optionagents:[],itemtoprint:null,showdialogprintagent:!1,showdialogaddpayment:!1,showdialogaddagent:!1,showdialogprintpayment:!1,currentagentline:{},itemtoprintpayment:null,agentlinecms:[]}},created:function(){var t=this;this.loadinggroupshoptables=!0,this.getgroupshoptablesbyquery({Agentid:"",Status:1,Day:-1}).then((function(e){e.status;var n=e.data;return t.loadinggroupshoptables=!1,0===n.length?(t.LoadData(t.pagination),!0):(t.allgroupshoptables=n,!1)})).then((function(e){e||t.$q.dialog({dark:!0,title:"ยืนยัน",message:"ยืนยันเอกสาร เปิดค้างไว้ ทั้งหมด ?",cancel:!0,persistent:!1}).onOk(l()(d.a.mark((function e(){var n;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<t.allgroupshoptables.length)){e.next=7;break}return e.next=4,t.Confirminfogroupshoptables(t.allgroupshoptables[n]);case 4:n++,e.next=1;break;case 7:case"end":return e.stop()}}),e)}))))})).catch((function(e){t.$q.notify(e.message),t.loadinggroupshoptables=!1})),this.gettourtypes().then((function(e){var n=e.data;return t.optiontourtype=n,t.getcustinvoicemarks()})).then((function(e){var n=e.data;return t.optioncustinvoicemark=n,t.getagentgrouptypes()})).then((function(e){var n=e.data;return t.optionagentgrouptype=n,t.getcartypes()})).then((function(e){var n=e.data;t.optioncartype=n})).catch((function(e){t.$q.notify(e.message)}))},methods:f(f(f({},Object(m["b"])("retailarea",["getgroupshoptablespagination","getagenttablespagination","gettourtypes","getcustinvoicemarks","getagentgrouptypes","getcartypes","deletegroupshoptables","creategroupshopagentlines","updategroupshopagentlines","deletegroupshopagentlines","creategroupshopagentvehiclelines","updategroupshopagentvehiclelines","deletegroupshopagentvehiclelines","creategroupshopcommissionlines","getgroupshopcommissionlinesbygroupidbyagentid","getgroupshopcommissionlinesamountbygroupshop","getgroupshoptablesbyquery","getagenttables"])),Object(m["b"])("auth",["getuserinid"])),{},{LoadData:function(t){var e=this;this.loadinggroupshoptables=!0,this.getgroupshoptablespagination({page:t.Page,rowperpage:t.rowsPerPage,search:this.filter}).then((function(t){var n=t.data;return e.pagination.MaxPage=n.MaxPage,e.allgroupshoptables=n.Data,[].concat(r()(e.allgroupshoptables.map((function(t){return t.Createdby}))),r()(e.allgroupshoptables.map((function(t){return t.Modifiedby}))),r()(e.allgroupshoptables.map((function(t){return t.Confirminfoby}))),r()(e.allgroupshoptables.map((function(t){return t.Bonusstartby}))),r()(e.allgroupshoptables.map((function(t){return t.Bonusrestartby}))),r()(e.allgroupshoptables.map((function(t){return t.Sumamountlasttime}))))})).then((function(t){return e.getuserinid({data:t})})).then((function(t){t.status;var n=t.data;e.alluser=n,e.loadinggroupshoptables=!1})).catch((function(t){e.$q.notify(t.message),e.loadinggroupshoptables=!1}))},Addedgroupshop:function(t){this.allgroupshoptables.unshift(t),this.dialogaddedit=!1},Updatedgroupshop:function(t){var e=this.allgroupshoptables.findIndex((function(e){return e.Groupshopid===t.Groupshopid}));this.allgroupshoptables[e]=Object.assign(this.allgroupshoptables[e],t),this.dialogaddedit=!1},Deletegroupshoptables:function(t){var e=this;this.$q.dialog({dark:!0,title:"ยืนยัน",message:"แน่ใจว่าต้องการลบบรรทัด ?",cancel:!0,persistent:!0}).onOk((function(){e.$q.loading.show(),e.deletegroupshoptables(t).then((function(t){var n=t.data;e.allgroupshoptables.splice(e.allgroupshoptables.findIndex((function(t){return t.Groupshopid===n.Groupshopid})),1),e.$q.notify("อัพเดทเรียบร้อย"),e.$q.loading.hide(),e.timer=void 0})).catch((function(t){e.$q.loading.hide(),e.timer=void 0,console.log(t.response),e.$q.notify({icon:"done",color:"red",message:t.response.data.message})}))}))},Confirminfogroupshoptables:function(t){var e=this;return this.$q.loading.show(),this.creategroupshopcommissionlines(t).then((function(){var n=e.allgroupshoptables.findIndex((function(e){return e.Groupshopid===t.Groupshopid}));return e.allgroupshoptables[n].Status=2,e.$q.notify("อัพเดทเรียบร้อย"),e.$q.loading.hide(),e.timer=void 0,!0})).catch((function(t){return e.$q.loading.hide(),e.timer=void 0,console.log(t.response),e.$q.notify({icon:"done",color:"red",message:t.response.data.message}),!1}))},Search:function(){1===this.pagination.Page?this.LoadData(this.pagination):this.pagination.Page=1},Filteragent:function(t,e,n){var o=this;setTimeout((function(){e((function(){""!==t&&o.getagenttablespagination({page:1,rowperpage:10,search:t}).then((function(t){t.status;var e=t.data;o.optionagents=e.Data}))}))}),1500)},Creategroupshopagentlines:function(t,e){var n=this;this.$q.loading.show(),this.creategroupshopagentlines({Groupshopid:t.Groupshopid,Agentid:e.Agentid,Commissionstatus:1}).then((function(e){e.status;var o=e.data;t.Groupshopagentline.push(o),n.curentagentselect="",n.$q.notify("อัพเดทเรียบร้อย"),n.$q.loading.hide(),n.timer=void 0})).catch((function(t){n.$q.loading.hide(),n.timer=void 0,console.log(t.response),n.$q.notify({icon:"done",color:"red",message:t.response.data.message})}))},Deletegroupshopagentlines:function(t,e){var n=this;this.$q.dialog({dark:!0,title:"ยืนยัน",message:"แน่ใจว่าต้องการลบบรรทัด ?",cancel:!0,persistent:!0}).onOk((function(){n.$q.loading.show(),n.deletegroupshopagentlines(e).then((function(e){var o=e.status,a=e.data;if(200===o){var i=t.Groupshopagentline.findIndex((function(t){return t.Groupshopid===a.Groupshopid&&t.Agentid===a.Agentid}));t.Groupshopagentline.splice(i,1)}n.$q.loading.hide(),n.timer=void 0})).catch((function(t){n.$q.loading.hide(),n.timer=void 0,console.log(t.response),n.$q.notify({icon:"done",color:"red",message:t.response.data.message})}))}))},labelPrint:function(t,e){var n=this;n.itemtoprint=Object.assign({},t,{Agent:e}),n.showdialogprintagent=!0},Updategroupshopagentlines:function(t){var e=this;return l()(d.a.mark((function n(){return d.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.updategroupshopagentlines(t).catch((function(t){console.log(t.response),e.$q.notify({icon:"done",color:"red",message:t.response.data.message})}));case 1:case"end":return n.stop()}}),n)})))()},PaymentAdded:function(t){this.showdialogaddpayment=!1,this.currentagentline={},this.itemtoprintpayment=t,this.showdialogprintpayment=!0},AgentAdded:function(t){this.Creategroupshopagentlines(this.currentgroupshoptable,t),this.showdialogaddagent=!1},Createpayment:function(t,e){var n=this;1!==t.Status?(this.currentagentline=e,this.showdialogaddpayment=!0):this.$q.dialog({dark:!0,title:"ยืนยัน",message:"บรรทัดจะปรับสถานะ ปิดการแก้ไข เพื่อเริ่มจ่าย ?",cancel:!0,persistent:!0}).onOk((function(){n.Confirminfogroupshoptables(t).then((function(t){t&&(n.currentagentline=e,n.showdialogaddpayment=!0)}))}))},Getagentlinecms:function(t){var e=this;return l()(d.a.mark((function n(){return d.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.getgroupshopcommissionlinesbygroupidbyagentid(t).then((function(t){var n=t.data;e.agentlinecms=n})).catch((function(t){e.agentlinecms=[],console.log(t.response),e.$q.notify({icon:"done",color:"red",message:t.response.data.message})}));case 1:case"end":return n.stop()}}),n)})))()},CurrentAmount:function(t){var e=this;this.$q.loading.show(),this.getgroupshopcommissionlinesamountbygroupshop(t).then((function(t){var n=t.data;e.$q.loading.hide(),e.timer=void 0,e.$q.dialog({dark:!0,title:"ยอดขาย",message:"".concat(n.Amount," บาท"),cancel:!0,persistent:!1})})).catch((function(t){e.$q.loading.hide(),e.timer=void 0,console.log(t.response),e.$q.notify({icon:"done",color:"red",message:t.response.data.message})}))},Creategroupshopagentvehiclelines:function(t){var e=this;this.$q.loading.show(),this.creategroupshopagentvehiclelines({Groupshopid:t.Groupshopid,Agentid:t.Agentid,Linenum:0,Cartypeid:0,Vehicleid:"",Vehicleqty:0,Modifiedby:"",Modifieddatetime:new Date}).then((function(n){n.status;var o=n.data;t.Groupshopagentvehicleline.push(o),e.$q.notify("อัพเดทเรียบร้อย"),e.$q.loading.hide(),e.timer=void 0})).catch((function(t){e.$q.loading.hide(),e.timer=void 0,console.log(t.response),e.$q.notify({icon:"done",color:"red",message:t.response.data.message})}))},Updategroupshopagentvehiclelines:function(t){var e=this;this.updategroupshopagentvehiclelines(t).catch((function(t){console.log(t.response),e.$q.notify({icon:"done",color:"red",message:t.response.data.message})}))},Deletegroupshopagentvehiclelines:function(t,e){var n=this;this.$q.loading.show(),this.deletegroupshopagentvehiclelines(e).then((function(e){var o=e.status,a=e.data;if(200===o){var i=t.Groupshopagentvehicleline.findIndex((function(t){return t.Groupshopid===a.Groupshopid&&t.Agentid===a.Agentid&&t.Linenum===a.Linenum}));t.Groupshopagentvehicleline.splice(i,1)}n.$q.loading.hide(),n.timer=void 0})).catch((function(t){n.$q.loading.hide(),n.timer=void 0,console.log(t.response),n.$q.notify({icon:"done",color:"red",message:t.response.data.message})}))},ReadSmartCardReader:function(t){var e=this,o=n("30dc"),a={method:"GET",url:"http://localhost:8888/readthaiidentity"};this.$q.loading.show(),o(a,(function(n,o){if(e.$q.loading.hide(),e.timer=void 0,n||200!==o.statusCode)e.$q.notify("ตรวจสอบเครื่องอ่านบัตร");else{var a=JSON.parse(o.body);e.getagenttables(a.Citizenid).then((function(n){n.status;var o=n.data;e.curentagentselect=o,e.Creategroupshopagentlines(t,e.curentagentselect)})).catch((function(t){e.curentagentselect="",console.log(t.response),e.$q.notify({icon:"done",color:"red",message:t.response.data.message})}))}}))}}),beforeDestroy:function(){void 0!==this.timer&&(clearTimeout(this.timer),this.$q.loading.hide())},watch:{"pagination.Page":function(t,e){this.LoadData(this.pagination)},"pagination.rowsPerPage":function(){1===this.pagination.Page?this.LoadData(this.pagination):this.pagination.Page=1}}},w=y,_=n("2877"),k=n("9989"),C=n("f09f"),x=n("a370"),$=n("eaac"),A=n("9c40"),O=n("05c0"),S=n("27f9"),P=n("0016"),D=n("bd08"),G=n("db86"),j=n("4e73"),T=n("1c1c"),M=n("66e5"),Q=n("4074"),N=n("58a8"),I=n("0170"),E=n("7cbe"),L=n("cb32"),Y=n("ddd8"),R=n("3b16"),z=n("24e8"),U=n("7f67"),B=n("714f"),H=n("eebe"),V=n.n(H),F=Object(_["a"])(w,o,a,!1,null,null,null);e["default"]=F.exports;V()(F,"components",{QPage:k["a"],QCard:C["a"],QCardSection:x["a"],QTable:$["a"],QBtn:A["a"],QTooltip:O["a"],QInput:S["a"],QIcon:P["a"],QTr:D["a"],QTd:G["a"],QMenu:j["a"],QList:T["a"],QItem:M["a"],QItemSection:Q["a"],QBadge:N["a"],QItemLabel:I["a"],QPopupProxy:E["a"],QAvatar:L["a"],QSelect:Y["a"],QPagination:R["a"],QDialog:z["a"]}),V()(F,"directives",{ClosePopup:U["a"],Ripple:B["a"]})}}]);