(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[16],{c60c:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-page",{attrs:{padding:""}},[r("div",{staticClass:"row q-col-gutter-sm q-ma-xs q-mr-sm"},[r("div",{staticClass:"col-lg-4 col-md-4 col-sm-12 col-xs-12"},[r("q-card",{attrs:{flat:"",bordered:""}},[r("q-card-section",[r("div",{staticClass:"text-h6"},[e._v("เพิ่ม/แก้ไข")])]),r("q-separator",{attrs:{inset:""}}),r("q-card-section",[r("q-list",[r("q-item",[r("q-item-section",[r("q-item-label",{staticClass:"q-pb-xs"},[e._v("คีย์")]),r("q-input",{attrs:{dense:"",outlined:"",readonly:!e.modeadd,label:"คีย์"},on:{keypress:function(e){return 65<=e.which&&e.which<=90||e.preventDefault()}},model:{value:e.currentusergroup.Groupid,callback:function(t){e.$set(e.currentusergroup,"Groupid",t)},expression:"currentusergroup.Groupid"}})],1)],1),r("q-item",[r("q-item-section",[r("q-item-label",{staticClass:"q-pb-xs"},[e._v("ชื่อกลุ่ม")]),r("q-input",{attrs:{dense:"",outlined:"",label:"ชื่อกลุ่ม"},model:{value:e.currentusergroup.Name,callback:function(t){e.$set(e.currentusergroup,"Name",t)},expression:"currentusergroup.Name"}})],1)],1),r("q-item",[r("q-item-section",[r("q-item-label",{staticClass:"q-pb-xs"},[e._v("อธิบาย")]),r("q-input",{attrs:{dense:"",outlined:"",label:"อธิบาย"},model:{value:e.currentusergroup.Description,callback:function(t){e.$set(e.currentusergroup,"Description",t)},expression:"currentusergroup.Description"}})],1)],1)],1)],1),r("q-card-actions",{staticClass:"q-mr-md",attrs:{align:"right"}},[e.modeadd?r("q-btn",{staticClass:"q-pl-md q-pr-md",attrs:{outline:"",label:"เพิ่ม",color:"primary",disable:!e.currentusergroup.Groupid||!e.currentusergroup.Name},on:{click:function(t){return e.Createusergroup(e.currentusergroup)}}}):r("q-btn",{staticClass:"q-pl-md q-pr-md",attrs:{outline:"",label:"อัพเดท",color:"primary",disable:!e.currentusergroup.Name||!e.currentusergroup.Groupid},on:{click:function(t){return e.Updateusergroup(e.currentusergroup)}}})],1)],1)],1),r("div",{staticClass:"col-lg-8 col-md-8 col-sm-12 col-xs-12"},[r("q-card",{attrs:{flat:"",bordered:""}},[r("q-card-section",[r("div",{staticClass:"text-h6"},[e._v("กลุ่มผู้ใช้")])]),r("q-separator",{attrs:{inset:""}}),r("q-card-section",[r("q-table",{attrs:{data:e.allusergroup,flat:"","hide-bottom":"","hide-header":"grid"===e.mode,columns:e.columns,selection:"single",selected:e.selected,"row-key":"Groupid",filter:e.filter,grid:"grid"==e.mode,pagination:e.pagination},on:{"update:selected":function(t){e.selected=t},"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"top-right",fn:function(t){return[r("q-input",{attrs:{borderless:"",dense:"",placeholder:"Search"},scopedSlots:e._u([{key:"append",fn:function(){return[r("q-icon",{attrs:{name:"search"}})]},proxy:!0}],null,!0),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),"list"===e.mode?r("q-btn",{attrs:{flat:"",round:"",dense:"",icon:t.inFullscreen?"fullscreen_exit":"fullscreen"},on:{click:t.toggleFullscreen}},[r("q-tooltip",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{disable:e.$q.platform.is.mobile}},[e._v(e._s(t.inFullscreen?"Exit Fullscreen":"Toggle Fullscreen"))])],1):e._e(),t.inFullscreen?e._e():r("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"grid"===e.mode?"list":"grid_on"},on:{click:function(t){e.mode="grid"===e.mode?"list":"grid",e.separator="grid"===e.mode?"none":"horizontal"}}},[r("q-tooltip",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{disable:e.$q.platform.is.mobile}},[e._v(e._s("grid"===e.mode?"List":"Grid"))])],1)]}},{key:"body-cell-Action",fn:function(t){return[r("q-td",{attrs:{props:t}},[r("div",[r("q-btn",{attrs:{dense:"",flat:"",outline:"",color:"red",icon:"delete",disable:!1},on:{click:function(r){return e.Deleteusergroup(t.row)}}})],1)])]}}])})],1)],1)],1)])])},n=[],i=(r("456d"),r("8a81"),r("d25f"),r("9986"),r("8e6e"),r("9523")),s=r.n(i),a=(r("20d6"),r("2f62"));function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u={name:"Usergroup",data:function(){return{modeadd:!0,mode:"list",pagination:{rowsPerPage:0},filter:"",allusergroup:[],selected:[],currentusergroup:{Groupid:"",Name:"",Description:""},columns:[{name:"Groupid",label:"คีย์",align:"left",field:"Groupid",sortable:!0},{name:"Name",label:"ชื่อกลุ่ม",align:"left",field:"Name",sortable:!0},{name:"Description",label:"อธิบาย",align:"left",field:"Description",sortable:!0},{name:"Action",field:"Action"}]}},created:function(){this.LoadData()},methods:c(c({},Object(a["b"])("auth",["getusergroup","createusergroup","updateusergroup","deleteusergroup"])),{},{LoadData:function(){var e=this;this.$q.loading.show(),this.getusergroup().then((function(t){var r=t.status,o=t.data;200===r&&(e.allusergroup=o,e.$q.loading.hide(),e.timer=void 0)}))},Createusergroup:function(e){var t=this;this.$q.loading.show(),this.createusergroup(e).then((function(e){var r=e.data;t.allusergroup.unshift(r),t.selected=[],t.$q.notify("อัพเดทเรียบร้อย"),t.$q.loading.hide(),t.timer=void 0})).catch((function(e){t.$q.loading.hide(),t.timer=void 0,console.log(e.response),t.$q.notify({icon:"done",color:"red",message:e.response.data.message})}))},Updateusergroup:function(e){var t=this;this.$q.loading.show(),this.updateusergroup(e).then((function(){t.$q.notify("อัพเดทเรียบร้อย"),t.$q.loading.hide(),t.timer=void 0})).catch((function(e){t.$q.loading.hide(),t.timer=void 0,console.log(e.response),t.$q.notify({icon:"done",color:"red",message:e.response.data.message})}))},Deleteusergroup:function(e){var t=this;this.$q.loading.show(),this.deleteusergroup(e).then((function(e){var r=e.data;t.allusergroup.splice(t.allusergroup.findIndex((function(e){return e.Groupid===r.Groupid})),1),t.selected=[],t.$q.notify("อัพเดทเรียบร้อย"),t.$q.loading.hide(),t.timer=void 0})).catch((function(e){t.$q.loading.hide(),t.timer=void 0,console.log(e.response),t.$q.notify({icon:"done",color:"red",message:e.response.data.message})}))}}),watch:{selected:function(e){e.length>0?(this.modeadd=!1,this.currentusergroup=e[0]):(this.modeadd=!0,this.currentusergroup={Groupid:"",Name:"",Description:""})}}},d=u,p=r("2877"),g=r("9989"),m=r("f09f"),f=r("a370"),b=r("eb85"),q=r("1c1c"),h=r("66e5"),v=r("4074"),y=r("0170"),w=r("27f9"),$=r("4b7e"),O=r("9c40"),k=r("eaac"),x=r("0016"),C=r("05c0"),_=r("db86"),D=r("7f67"),Q=r("eebe"),j=r.n(Q),G=Object(p["a"])(d,o,n,!1,null,null,null);t["default"]=G.exports;j()(G,"components",{QPage:g["a"],QCard:m["a"],QCardSection:f["a"],QSeparator:b["a"],QList:q["a"],QItem:h["a"],QItemSection:v["a"],QItemLabel:y["a"],QInput:w["a"],QCardActions:$["a"],QBtn:O["a"],QTable:k["a"],QIcon:x["a"],QTooltip:C["a"],QTd:_["a"]}),j()(G,"directives",{ClosePopup:D["a"]})}}]);