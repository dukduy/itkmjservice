(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"0668":function(t,e,a){},"713b":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-layout",{staticClass:"bg-grey-1",attrs:{view:"hHh lpR fFf"}},[a("q-header",{staticClass:"bg-white text-grey-8 q-py-xs",attrs:{elevated:"","height-hint":"58"}},[a("q-toolbar",[a("q-btn",{staticStyle:{width:"220px"},attrs:{flat:"",dense:"","aria-label":"Menu",icon:"menu"},on:{click:function(e){t.leftDrawerOpen=!t.leftDrawerOpen}}}),a("q-btn",{staticClass:"q-ml-xs",attrs:{flat:"","no-caps":"","no-wrap":"",to:"/",dense:""}},[a("q-toolbar-title",{staticClass:"text-weight-bold",attrs:{shrink:""}},[t._v(t._s(t.PROFILE?t.PROFILE.Userinfo.Name:""))])],1),a("q-space"),a("div",{staticClass:"q-gutter-sm row items-center no-wrap"},[a("q-btn",{attrs:{round:"",dense:"",flat:"",color:"grey-8",icon:"notifications"}},[a("q-badge",{attrs:{color:"red","text-color":"white",floating:""}},[t._v(t._s(t.notidata.length>0?t.notidata.length:""))]),a("q-popup-proxy",{attrs:{"transition-show":"flip-up","transition-hide":"flip-down"}},t._l(t.notidata,(function(e,s){return a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:s,attrs:{to:e.to,clickable:""},on:{click:function(){t.notidata.splice(s,1)}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",{attrs:{size:"sm",color:"primary","text-color":"white"}},[t._v("\n                  "+t._s(s+1)+"\n                ")])],1),a("q-item-section",[a("q-item-label",[t._v(t._s(e.title))]),a("q-item-label",{attrs:{caption:"",lines:"1"}},[t._v(t._s(e.massage))])],1),a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"chat_bubble",color:"green"}})],1)],1)})),1),a("q-tooltip",[t._v("การแจ้งเตือน")])],1),a("q-btn",{attrs:{round:"",flat:"",icon:"account_circle"}},[t.PROFILE?a("q-menu",[a("div",{staticClass:"row no-wrap q-pa-md"},[a("div",{staticClass:"column"},[a("div",{staticClass:"text-subtitle1 q-mt-md q-mb-xs"},[t._v(t._s(t.PROFILE.Email))]),a("div",{staticClass:"text-subtitle1 q-mt-md q-mb-xs"},[t._v(t._s(t.PROFILE.Userinfo.Name))]),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"info",label:"เปลี่ยนรหัสล็อกอิน",dense:"",outline:"",size:"sm"},on:{click:function(e){t.dialogchangepassword=!0}}})],1),a("q-separator",{staticClass:"q-mx-lg",attrs:{vertical:"",inset:""}}),a("div",{staticClass:"column items-center"},[a("q-avatar",{attrs:{size:"72px"}},[a("img",{attrs:{src:"statics/icons/icon-256x256.png"}})]),a("div",{staticClass:"text-subtitle1 q-mt-md q-mb-xs"},[t._v(t._s(t.PROFILE.UserName))]),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"primary",label:"Logout",push:"",size:"sm"},on:{click:function(e){return t.RESET_TOKEN()}}})],1)],1)]):t._e(),a("q-tooltip",[t._v("Account")])],1)],1)],1)],1),a("q-drawer",{attrs:{"show-if-above":"",bordered:"","content-class":"bg-grey-2",width:220},model:{value:t.leftDrawerOpen,callback:function(e){t.leftDrawerOpen=e},expression:"leftDrawerOpen"}},[a("q-scroll-area",{staticClass:"fit",staticStyle:{"font-size":"13px"}},[a("q-list",{attrs:{padding:""}},t._l(t.homeLink,(function(e,s){return a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:s,attrs:{to:e.route,dense:"",clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{color:"grey",name:e.icon}})],1),a("q-item-section",[a("q-item-label",[t._v(t._s(e.label))])],1)],1)})),1),a("q-list",{attrs:{padding:""}},[a("q-separator",{staticClass:"q-my-md"}),a("q-item-label",{staticClass:"text-weight-bold text-uppercase",attrs:{header:""}},[t._v("ทางลัด")]),t._l(t.mainmenufavorites,(function(e,s){return a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:s,attrs:{to:e.route,dense:"",clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{color:"grey",name:e.icon}})],1),a("q-item-section",[a("q-item-label",[t._v(t._s(e.label))])],1),a("q-menu",{attrs:{"touch-position":"","context-menu":""}},[a("q-list",{staticStyle:{"min-width":"100px"},attrs:{dense:""}},[a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return t.CUT_MAINMENUFAVORITES(e)}}},[a("q-item-section",[t._v("ลบออกจากทางลัด")])],1)],1)],1)],1)}))],2),a("q-list",{attrs:{padding:""}},[a("q-separator",{staticClass:"q-my-md"}),a("q-item-label",{staticClass:"text-weight-bold text-uppercase",attrs:{header:""}},[t._v("เกี่ยวข้อง")]),t._l(t.mainmenuselected,(function(e,s){return a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:s,attrs:{to:e.route,dense:"",clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{color:"grey",name:e.icon}})],1),a("q-item-section",[a("q-item-label",[t._v(t._s(e.label))])],1)],1)}))],2),a("q-list",{attrs:{padding:""}},[a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{to:"/reportviewer",dense:"",clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{color:"grey",name:"report"}})],1),a("q-item-section",[a("q-item-label",[t._v("รายงาน")])],1)],1)],1)],1)],1),a("q-page-container",[a("router-view")],1),a("q-dialog",{attrs:{persistent:""},model:{value:t.dialogchangepassword,callback:function(e){t.dialogchangepassword=e},expression:"dialogchangepassword"}},[a("q-card",{staticStyle:{"max-width":"100%",width:"40%"}},[a("q-card-section",[a("q-input",{attrs:{square:"",clearable:"",rules:[function(t){return!!t||"ต้องระบุ"}],type:"password",label:"รหัสเก่า"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"lock"}})]},proxy:!0}]),model:{value:t.changepassword.Password,callback:function(e){t.$set(t.changepassword,"Password",e)},expression:"changepassword.Password"}}),a("q-input",{attrs:{square:"",clearable:"",rules:[function(t){return!!t||"ต้องระบุ"}],type:"password",label:"สหัสใหม่"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"lock"}})]},proxy:!0}]),model:{value:t.changepassword.NewPassword,callback:function(e){t.$set(t.changepassword,"NewPassword",e)},expression:"changepassword.NewPassword"}}),a("q-input",{attrs:{square:"",clearable:"",rules:[function(t){return!!t||"ต้องระบุ"}],type:"password",label:"ยืนยันสหัสใหม่"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"lock"}})]},proxy:!0}]),model:{value:t.changepassword.ReNewPassword,callback:function(e){t.$set(t.changepassword,"ReNewPassword",e)},expression:"changepassword.ReNewPassword"}})],1),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel",color:"primary"}}),a("q-btn",{attrs:{flat:"",label:"OK",color:"primary",disable:""===t.changepassword.NewPassword||t.changepassword.NewPassword!==t.changepassword.ReNewPassword},on:{click:function(e){return t.Userchangepassword(t.changepassword)}}})],1)],1)],1)],1)},r=[],o=(a("456d"),a("8a81"),a("d25f"),a("9986"),a("8e6e"),a("c973")),n=a.n(o),i=a("9523"),c=a.n(i),l=a("a34a"),p=a.n(l),d=a("2f62");function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function m(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach((function(e){c()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var w={name:"MainLayout",computed:m(m(m({},Object(d["c"])("inventproduct",["mainmenuselected","mainmenufavorites"])),Object(d["c"])("auth",["isAuthenticated"])),Object(d["e"])("auth",["PROFILE"])),created:function(){var t=this;return n()(p.a.mark((function e(){return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.getagenttablesbirthday().then((function(e){var a=e.data;return a.TotalRow>0&&t.notidata.push({title:"ผู้เข้าจอด",massage:"".concat(a.TotalRow," เกิดวันนี้"),to:"/agenttable?birthday=true"}),t.getagenttablespagination({status:1})})).then((function(e){e.status;var a=e.data;return a.TotalRow>0&&t.notidata.push({title:"ผู้เข้าจอด",massage:"".concat(a.TotalRow," Agent ยังไม่ยืนยันข้อมูล"),to:"/agenttable"}),t.getgroupshoptablespagination({status:1})})).then((function(e){var a=e.data;a.TotalRow>0&&t.notidata.push({title:"เข้าจอด",massage:"".concat(a.TotalRow," รายการยังไม่ยืนยันข้อมูล"),to:"/groupshoptable"})})).catch((function(e){console.log(e.response),t.RESET_TOKEN(),self.$q.notify(e.response.data.message)}));case 1:case"end":return e.stop()}}),e)})))()},data:function(){return{leftDrawerOpen:!1,homeLink:[{icon:"home",label:"หน้าหลัก",route:"/"},{icon:"whatshot",label:"ภาพรวม",route:"/"}],notidata:[],dialogchangepassword:!1,changepassword:{Password:"",NewPassword:"",ReNewPassword:""}}},methods:m(m(m(m(m({},Object(d["d"])("inventproduct",["CUT_MAINMENUFAVORITES"])),Object(d["d"])("auth",["RESET_TOKEN"])),Object(d["b"])("auth",["userchangepassword"])),Object(d["b"])("retailarea",["getagenttablespagination","getgroupshoptablespagination","getagenttablesbirthday"])),{},{Userchangepassword:function(){var t=this;t.$q.loading.show(),console.log(t.changepassword),t.userchangepassword(t.changepassword).then((function(){t.$q.notify("เรียบร้อย"),t.dialogchangepassword=!1,t.$q.loading.hide(),t.timer=void 0})).catch((function(e){console.log(e.response),t.$q.notify(e.response.data.message),t.$q.loading.hide(),t.timer=void 0}))}}),watch:{isAuthenticated:function(t){t||this.$router.push("/auth")}}},b=w,g=(a("83ec"),a("2877")),h=a("4d5a"),q=a("e359"),f=a("65c6"),v=a("9c40"),y=a("6ac5"),_=a("2c91"),O=a("58a8"),x=a("7cbe"),k=a("66e5"),P=a("4074"),N=a("cb32"),C=a("0170"),Q=a("0016"),R=a("05c0"),E=a("4e73"),T=a("eb85"),j=a("9404"),S=a("4983"),I=a("1c1c"),L=a("09e3"),D=a("24e8"),A=a("f09f"),$=a("a370"),F=a("27f9"),U=a("4b7e"),M=a("714f"),z=a("7f67"),K=a("eebe"),B=a.n(K),H=Object(g["a"])(b,s,r,!1,null,null,null);e["default"]=H.exports;B()(H,"components",{QLayout:h["a"],QHeader:q["a"],QToolbar:f["a"],QBtn:v["a"],QToolbarTitle:y["a"],QSpace:_["a"],QBadge:O["a"],QPopupProxy:x["a"],QItem:k["a"],QItemSection:P["a"],QAvatar:N["a"],QItemLabel:C["a"],QIcon:Q["a"],QTooltip:R["a"],QMenu:E["a"],QSeparator:T["a"],QDrawer:j["a"],QScrollArea:S["a"],QList:I["a"],QPageContainer:L["a"],QDialog:D["a"],QCard:A["a"],QCardSection:$["a"],QInput:F["a"],QCardActions:U["a"]}),B()(H,"directives",{Ripple:M["a"],ClosePopup:z["a"]})},"83ec":function(t,e,a){"use strict";var s=a("0668"),r=a.n(s);r.a}}]);